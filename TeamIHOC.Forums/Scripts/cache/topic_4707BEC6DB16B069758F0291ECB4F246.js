/*!
 * fancyBox - jQuery Plugin
 * version: 2.0.6 (16/04/2012)
 * @requires jQuery v1.6 or later
 *
 * Examples at http://fancyapps.com/fancybox/
 * License: www.fancyapps.com/fancybox/#license
 *
 * Copyright 2012 Janis Skarnelis - janis@fancyapps.com
 *
 */
(function(n,t,i,r){"use strict";var s=i(n),o=i(t),u=i.fancybox=function(){u.open.apply(this,arguments)},c=!1,a=null,e=t.createTouch!==r,h=function(n){return i.type(n)==="string"},l=function(n){return h(n)&&n.indexOf("%")>0},f=function(n,t){return t&&l(n)&&(n=u.getViewport()[t]/100*parseInt(n,10)),Math.round(n)+"px"};i.extend(u,{version:"2.0.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoResize:!e,autoCenter:!e,fitToView:!0,aspectRatio:!1,topRatio:.5,fixed:!1,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},keys:{next:[13,32,34,39,40],prev:[8,33,37,38],close:[27]},index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe class="fancybox-iframe" name="fancybox-frame{rnd}" frameborder="0" hspace="0"'+(navigator.userAgent.match(/msie [6]/i)?' allowtransparency="true"':"")+"></iframe>",swf:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="wmode" value="transparent" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{href}" /><embed src="{href}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="100%" height="100%" wmode="transparent"></embed></object>',error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<div title="Close" class="fancybox-item fancybox-close"></div>',next:'<a title="Next" class="fancybox-nav fancybox-next"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev"><span></span></a>'},openEffect:"fade",openSpeed:300,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:300,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:300,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:300,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:{speedIn:0,speedOut:300,opacity:.8,css:{cursor:"pointer"},closeClick:!0},title:{type:"float"}},onCancel:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeClose:i.noop,afterClose:i.noop},group:{},opts:{},coming:null,current:null,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(n,t){u.close(!0),n&&!i.isArray(n)&&(n=n instanceof i?i(n).get():[n]),u.isActive=!0,u.opts=i.extend(!0,{},u.defaults,t),i.isPlainObject(t)&&t.keys!==r&&(u.opts.keys=t.keys?i.extend({},u.defaults.keys,t.keys):!1),u.group=n,u._start(u.opts.index||0)},cancel:function(){u.coming&&!1===u.trigger("onCancel")||(u.coming=null,u.hideLoading(),u.ajaxLoad&&u.ajaxLoad.abort(),u.ajaxLoad=null,u.imgPreload&&(u.imgPreload.onload=u.imgPreload.onabort=u.imgPreload.onerror=null))},close:function(n){(u.cancel(),u.current&&!1!==u.trigger("beforeClose"))&&(u.unbindEvents(),!u.isOpen||n&&n[0]===!0?(i(".fancybox-wrap").stop().trigger("onReset").remove(),u._afterZoomOut()):(u.isOpen=u.isOpened=!1,i(".fancybox-item, .fancybox-nav").remove(),u.wrap.stop(!0).removeClass("fancybox-opened"),u.inner.css("overflow","hidden"),u.transitions[u.current.closeMethod]()))},play:function(n){var t=function(){clearTimeout(u.player.timer)},f=function(){t(),u.current&&u.player.isActive&&(u.player.timer=setTimeout(u.next,u.current.playSpeed))},r=function(){t(),i("body").unbind(".player"),u.player.isActive=!1,u.trigger("onPlayEnd")},e=function(){u.current&&(u.current.loop||u.current.index<u.group.length-1)&&(u.player.isActive=!0,i("body").bind({"afterShow.player onUpdate.player":f,"onCancel.player beforeClose.player":r,"beforeLoad.player":t}),f(),u.trigger("onPlayStart"))};u.player.isActive||n&&n[0]===!1?r():e()},next:function(){u.current&&u.jumpto(u.current.index+1)},prev:function(){u.current&&u.jumpto(u.current.index-1)},jumpto:function(n){u.current&&(n=parseInt(n,10),u.group.length>1&&u.current.loop&&(n>=u.group.length?n=0:n<0&&(n=u.group.length-1)),u.group[n]!==r&&(u.cancel(),u._start(n)))},reposition:function(n,t){var i;u.isOpen&&(i=u._getPosition(t),n&&n.type==="scroll"?(delete i.position,u.wrap.stop(!0,!0).animate(i,200)):u.wrap.css(i))},update:function(n){u.isOpen&&(c||(a=setTimeout(function(){var t=u.current,i=!n||n&&n.type==="orientationchange";if(c){if(c=!1,!t)return;(!n||n.type!=="scroll"||i)&&(t.autoSize&&t.type!=="iframe"&&(u.inner.height("auto"),t.height=u.inner.height()),(t.autoResize||i)&&u._setDimension(),t.canGrow&&t.type!=="iframe"&&u.inner.height("auto")),(t.autoCenter||i)&&u.reposition(n),u.trigger("onUpdate")}},200)),c=!0)},toggle:function(){u.isOpen&&(u.current.fitToView=!u.current.fitToView,u.update())},hideLoading:function(){o.unbind("keypress.fb"),i("#fancybox-loading").remove()},showLoading:function(){u.hideLoading(),o.bind("keypress.fb",function(n){n.keyCode===27&&(n.preventDefault(),u.cancel())}),i('<div id="fancybox-loading"><div></div></div>').click(u.cancel).appendTo("body")},getViewport:function(){return{x:s.scrollLeft(),y:s.scrollTop(),w:e&&n.innerWidth?n.innerWidth:s.width(),h:e&&n.innerHeight?n.innerHeight:s.height()}},unbindEvents:function(){u.wrap&&u.wrap.unbind(".fb"),o.unbind(".fb"),s.unbind(".fb")},bindEvents:function(){var n=u.current,t=n.keys;n&&(s.bind("resize.fb orientationchange.fb"+(n.autoCenter&&!n.fixed?" scroll.fb":""),u.update),t&&o.bind("keydown.fb",function(n){var r,f=n.target||n.srcElement;n.ctrlKey||n.altKey||n.shiftKey||n.metaKey||f&&(f.type||i(f).is("[contenteditable]"))||(r=n.keyCode,i.inArray(r,t.close)>-1?(u.close(),n.preventDefault()):i.inArray(r,t.next)>-1?(u.next(),n.preventDefault()):i.inArray(r,t.prev)>-1&&(u.prev(),n.preventDefault()))}),i.fn.mousewheel&&n.mouseWheel&&u.group.length>1&&u.wrap.bind("mousewheel.fb",function(n,t){var i=n.target||null;t===0||i&&i.clientHeight!==0&&(i.scrollHeight!==i.clientHeight||i.scrollWidth!==i.clientWidth)||(n.preventDefault(),u[t>0?"prev":"next"]())}))},trigger:function(n,t){var f,r=t||u[i.inArray(n,["onCancel","beforeLoad","afterLoad"])>-1?"coming":"current"];if(r){if(i.isFunction(r[n])&&(f=r[n].apply(r,Array.prototype.slice.call(arguments,1))),f===!1)return!1;r.helpers&&i.each(r.helpers,function(t,f){f&&i.isPlainObject(u.helpers[t])&&i.isFunction(u.helpers[t][n])&&u.helpers[t][n](f,r)}),i.event.trigger(n+".fb")}},isImage:function(n){return h(n)&&n.match(/\.(jpe?g|gif|png|bmp)((\?|#).*)?$/i)},isSWF:function(n){return h(n)&&n.match(/\.(swf)((\?|#).*)?$/i)},_start:function(n){var t={},e=u.group[n]||null,o,f,r,c,s;if(e&&(e.nodeType||e instanceof i)&&(o=!0,i.metadata&&(t=i(e).metadata())),t=i.extend(!0,{},u.opts,{index:n,element:e},i.isPlainObject(e)?e:t),i.each(["href","title","content","type"],function(n,r){t[r]=u.opts[r]||o&&i(e).attr(r)||t[r]||null}),typeof t.margin=="number"&&(t.margin=[t.margin,t.margin,t.margin,t.margin]),t.modal&&i.extend(!0,t,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{css:{cursor:"auto"},closeClick:!1}}}),u.coming=t,!1===u.trigger("beforeLoad")){u.coming=null;return}r=t.type,f=t.href||e,r||(o&&(r=i(e).data("fancybox-type"),r||(c=e.className.match(/fancybox\.(\w+)/),r=c?c[1]:null)),!r&&h(f)&&(u.isImage(f)?r="image":u.isSWF(f)?r="swf":f.match(/^#/)&&(r="inline")),r||(r=o?"inline":"html"),t.type=r),r==="inline"||r==="html"?(t.content||(t.content=r==="inline"?i(h(f)?f.replace(/.*(?=#[^\s]+$)/,""):f):e),t.content&&t.content.length||(r=null)):f||(r=null),r==="ajax"&&h(f)&&(s=f.split(/\s+/,2),f=s.shift(),t.selector=s.shift()),t.href=f,t.group=u.group,t.isDom=o;switch(r){case"image":u._loadImage();break;case"ajax":u._loadAjax();break;case"inline":case"iframe":case"swf":case"html":u._afterLoad();break;default:u._error("type")}},_error:function(n){u.hideLoading(),i.extend(u.coming,{type:"html",autoSize:!0,minWidth:0,minHeight:0,padding:15,hasError:n,content:u.coming.tpl.error}),u._afterLoad()},_loadImage:function(){var n=u.imgPreload=new Image;n.onload=function(){this.onload=this.onerror=null,u.coming.width=this.width,u.coming.height=this.height,u._afterLoad()},n.onerror=function(){this.onload=this.onerror=null,u._error("image")},n.src=u.coming.href,n.complete!==r&&n.complete||u.showLoading()},_loadAjax:function(){u.showLoading(),u.ajaxLoad=i.ajax(i.extend({},u.coming.ajax,{url:u.coming.href,error:function(n,t){u.coming&&t!=="abort"?u._error("ajax",n):u.hideLoading()},success:function(n,t){t==="success"&&(u.coming.content=n,u._afterLoad())}}))},_preloadImages:function(){var f=u.group,e=u.current,o=f.length,n,r,t,s=Math.min(e.preload,o-1);if(e.preload&&!(f.length<2))for(t=1;t<=s;t+=1)n=f[(e.index+t)%o],r=n.href||i(n).attr("href")||n,(n.type==="image"||u.isImage(r))&&((new Image).src=r)},_afterLoad:function(){if(u.hideLoading(),!u.coming||!1===u.trigger("afterLoad",u.current)){u.coming=!1;return}u.isOpened?(i(".fancybox-item, .fancybox-nav").remove(),u.wrap.stop(!0).removeClass("fancybox-opened"),u.inner.css("overflow","hidden"),u.transitions[u.current.prevMethod]()):(i(".fancybox-wrap").stop().trigger("onReset").remove(),u.trigger("afterClose")),u.unbindEvents(),u.isOpen=!1,u.current=u.coming,u.wrap=i(u.current.tpl.wrap).addClass("fancybox-"+(e?"mobile":"desktop")+" fancybox-type-"+u.current.type+" fancybox-tmp "+u.current.wrapCSS).appendTo("body"),u.skin=i(".fancybox-skin",u.wrap).css("padding",f(u.current.padding)),u.outer=i(".fancybox-outer",u.wrap),u.inner=i(".fancybox-inner",u.wrap),u._setContent()},_setContent:function(){var n=u.current,t=n.content,o=n.type,h=n.minWidth,c=n.minHeight,l=n.maxWidth,s=n.maxHeight,r;switch(o){case"inline":case"ajax":case"html":n.selector?t=i("<div>").html(t).find(n.selector):t instanceof i&&(t.parent().hasClass("fancybox-inner")&&t.parents(".fancybox-wrap").unbind("onReset"),t=t.show().detach(),i(u.wrap).bind("onReset",function(){t.appendTo("body").hide()})),n.autoSize&&(r=i('<div class="fancybox-wrap '+u.current.wrapCSS+' fancybox-tmp"></div>').appendTo("body").css({minWidth:f(h,"w"),minHeight:f(c,"h"),maxWidth:f(l,"w"),maxHeight:f(s,"h")}).append(t),n.width=r.width(),n.height=r.height(),r.width(u.current.width),r.height()>n.height&&(r.width(n.width+1),n.width=r.width(),n.height=r.height()),t=r.contents().detach(),r.remove());break;case"image":t=n.tpl.image.replace("{href}",n.href),n.aspectRatio=!0;break;case"swf":t=n.tpl.swf.replace(/\{width\}/g,n.width).replace(/\{height\}/g,n.height).replace(/\{href\}/g,n.href);break;case"iframe":t=i(n.tpl.iframe.replace("{rnd}",+new Date)).attr("scrolling",n.scrolling).attr("src",n.href),n.scrolling=e?"scroll":"auto"}(o==="image"||o==="swf")&&(n.autoSize=!1,n.scrolling="visible"),o==="iframe"&&n.autoSize?(u.showLoading(),u._setDimension(),u.inner.css("overflow",n.scrolling),t.bind({onCancel:function(){i(this).unbind(),u._afterZoomOut()},load:function(){u.hideLoading();try{this.contentWindow.document.location&&(u.current.height=i(this).contents().find("body").height())}catch(n){u.current.autoSize=!1}u[u.isOpen?"_afterZoomIn":"_beforeShow"]()}}).appendTo(u.inner)):(u.inner.append(t),u._beforeShow())},_beforeShow:function(){u.coming=null,u.trigger("beforeShow"),u._setDimension(),u.wrap.hide().removeClass("fancybox-tmp"),u.bindEvents(),u._preloadImages(),u.transitions[u.isOpened?u.current.nextMethod:u.current.openMethod]()},_setDimension:function(){var p=u.wrap,b=u.inner,e=u.current,h=u.getViewport(),w=e.margin,r=e.padding*2,n=e.width,t=e.height,a=e.maxWidth+r,o=e.maxHeight+r,c=e.minWidth+r,y=e.minHeight+r,v,s;if(h.w-=w[1]+w[3],h.h-=w[0]+w[2],l(n)&&(n=(h.w-r)*parseFloat(n)/100),l(t)&&(t=(h.h-r)*parseFloat(t)/100),v=n/t,n+=r,t+=r,e.fitToView&&(a=Math.min(h.w,a),o=Math.min(h.h,o)),e.aspectRatio?(n>a&&(n=a,t=(n-r)/v+r),t>o&&(t=o,n=(t-r)*v+r),n<c&&(n=c,t=(n-r)/v+r),t<y&&(t=y,n=(t-r)*v+r)):(n=Math.max(c,Math.min(n,a)),t=Math.max(y,Math.min(t,o))),n=Math.round(n),t=Math.round(t),i(p.add(b)).width("auto").height("auto"),b.width(n-r).height(t-r),p.width(n),s=p.height(),n>a||s>o)while((n>a||s>o)&&n>c&&s>y)t=t-10,e.aspectRatio?(n=Math.round((t-r)*v+r),n<c&&(n=c,t=(n-r)/v+r)):n=n-10,b.width(n-r).height(t-r),p.width(n),s=p.height();e.dim={width:f(n),height:f(s)},e.canGrow=e.autoSize&&t>y&&t<o,e.canShrink=!1,e.canExpand=!1,n-r<e.width||t-r<e.height?e.canExpand=!0:(n>h.w||s>h.h)&&n>c&&t>y&&(e.canShrink=!0),u.innerSpace=s-r-b.height()},_getPosition:function(n){var e=u.current,r=u.getViewport(),t=e.margin,o=u.wrap.width()+t[1]+t[3],s=u.wrap.height()+t[0]+t[2],i={position:"absolute",top:t[0]+r.y,left:t[3]+r.x};return e.autoCenter&&e.fixed&&!n&&s<=r.h&&o<=r.w&&(i={position:"fixed",top:t[0],left:t[3]}),i.top=f(Math.max(i.top,i.top+(r.h-s)*e.topRatio)),i.left=f(Math.max(i.left,i.left+(r.w-o)*.5)),i},_afterZoomIn:function(){var n=u.current,t=n?n.scrolling:"no";n&&(u.isOpen=u.isOpened=!0,u.wrap.addClass("fancybox-opened"),u.inner.css("overflow",t==="yes"?"scroll":t==="no"?"hidden":t),u.trigger("afterShow"),u.update(),(n.closeClick||n.nextClick)&&u.inner.css("cursor","pointer").bind("click.fb",function(t){i(t.target).is("a")||i(t.target).parent().is("a")||u[n.closeClick?"close":"next"]()}),n.closeBtn&&i(n.tpl.closeBtn).appendTo(u.skin).bind("click.fb",u.close),n.arrows&&u.group.length>1&&((n.loop||n.index>0)&&i(n.tpl.prev).appendTo(u.outer).bind("click.fb",u.prev),(n.loop||n.index<u.group.length-1)&&i(n.tpl.next).appendTo(u.outer).bind("click.fb",u.next)),u.opts.autoPlay&&!u.player.isActive&&(u.opts.autoPlay=!1,u.play()))},_afterZoomOut:function(){var n=u.current;u.wrap.trigger("onReset").remove(),i.extend(u,{group:{},opts:{},current:null,isActive:!1,isOpened:!1,isOpen:!1,wrap:null,skin:null,outer:null,inner:null}),u.trigger("afterClose",n)}}),u.transitions={getOrigPosition:function(){var e=u.current,c=e.element,o=e.padding,n=i(e.orig),t={},s=50,h=50,r;return!n.length&&e.isDom&&i(c).is(":visible")&&(n=i(c).find("img:first"),n.length||(n=i(c))),n.length?(t=n.offset(),n.is("img")&&(s=n.outerWidth(),h=n.outerHeight())):(r=u.getViewport(),t.top=r.y+(r.h-h)*.5,t.left=r.x+(r.w-s)*.5),t={top:f(t.top-o),left:f(t.left-o),width:f(s+o*2),height:f(h+o*2)}},step:function(n,t){var r=t.prop,f,i;(r==="width"||r==="height")&&(f=Math.ceil(n-u.current.padding*2),r==="height"&&(i=(n-t.start)/(t.end-t.start),t.start>t.end&&(i=1-i),f-=u.innerSpace*i),u.inner[r](f))},zoomIn:function(){var o=u.wrap,t=u.current,f=t.openEffect,r=f==="elastic",s=t.dim,n=i.extend({},s,u._getPosition(r)),e=i.extend({opacity:1},n);delete e.position,r?(n=this.getOrigPosition(),t.openOpacity&&(n.opacity=0),u.outer.add(u.inner).width("auto").height("auto")):f==="fade"&&(n.opacity=0),o.css(n).show().animate(e,{duration:f==="none"?0:t.openSpeed,easing:t.openEasing,step:r?this.step:null,complete:u._afterZoomIn})},zoomOut:function(){var i=u.wrap,n=u.current,r=n.openEffect,f=r==="elastic",t={opacity:0};f&&(i.css("position")==="fixed"&&i.css(u._getPosition(!0)),t=this.getOrigPosition(),n.closeOpacity&&(t.opacity=0)),i.animate(t,{duration:r==="none"?0:n.closeSpeed,easing:n.closeEasing,step:f?this.step:null,complete:u._afterZoomOut})},changeIn:function(){var o=u.wrap,t=u.current,r=t.nextEffect,i=r==="elastic",n=u._getPosition(i),e={opacity:1};n.opacity=0,i&&(n.top=f(parseInt(n.top,10)-200),e.top="+=200px"),o.css(n).show().animate(e,{duration:r==="none"?0:t.nextSpeed,easing:t.nextEasing,complete:u._afterZoomIn})},changeOut:function(){var f=u.wrap,n=u.current,r=n.prevEffect,t={opacity:0},e=function(){i(this).trigger("onReset").remove()};f.removeClass("fancybox-opened"),r==="elastic"&&(t.top="+=200px"),f.animate(t,{duration:r==="none"?0:n.prevSpeed,easing:n.prevEasing,complete:e})}},u.helpers.overlay={overlay:null,update:function(){var i,n,r;this.overlay.width("100%").height("100%"),navigator.userAgent.match(/msie [6]/i)||e?(n=Math.max(t.documentElement.scrollWidth,t.body.scrollWidth),r=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth),i=n<r?s.width():n):i=o.width(),this.overlay.width(i).height(o.height())},beforeShow:function(n){this.overlay||(n=i.extend(!0,{},u.defaults.helpers.overlay,n),this.overlay=i('<div id="fancybox-overlay"></div>').css(n.css).appendTo("body"),n.closeClick&&this.overlay.bind("click.fb",u.close),u.current.fixed&&!e?this.overlay.addClass("overlay-fixed"):(this.update(),this.onUpdate=function(){this.update()}),this.overlay.fadeTo(n.speedIn,n.opacity))},afterClose:function(n){this.overlay&&this.overlay.fadeOut(n.speedOut||0,function(){i(this).remove()}),this.overlay=null}},u.helpers.title={beforeShow:function(n){var t,r=u.current.title;r&&(t=i('<div class="fancybox-title fancybox-title-'+n.type+'-wrap">'+r+"</div>").appendTo("body"),n.type==="float"&&(t.width(t.width()),t.wrapInner('<span class="child"></span>'),u.current.margin[2]+=Math.abs(parseInt(t.css("margin-bottom"),10))),t.appendTo(n.type==="over"?u.inner:n.type==="outside"?u.wrap:u.skin))}},i.fn.fancybox=function(n){var e=i(this),t=this.selector||"",f,r=function(r){var o=this,c=f,h,s;r.ctrlKey||r.altKey||r.shiftKey||r.metaKey||i(o).is(".fancybox-wrap")||(r.preventDefault(),h=n.groupAttr||"data-fancybox-group",s=i(o).attr(h),s||(h="rel",s=o[h]),s&&s!==""&&s!=="nofollow"&&(o=t.length?i(t):e,o=o.filter("["+h+'="'+s+'"]'),c=o.index(this)),n.index=c,u.open(o,n))};return n=n||{},f=n.index||0,t?o.undelegate(t,"click.fb-start").delegate(t,"click.fb-start",r):e.unbind("click.fb-start").bind("click.fb-start",r),this},i(t).ready(function(){u.defaults.fixed=i.support.fixedPosition||!navigator.userAgent.match(/msie [6]/i)&&!e})})(window,document,jQuery);
$(function(){$('div.fileupload a[href$=".gif"], div.fileupload a[href$=".jpg"], div.fileupload a[href$=".png"], div.fileupload a[href$=".bmp"], div.fileupload a[href$=".jpeg"]').fancybox()});
